<!DOCTYPE html>
<html lang="zh-Hans">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="referrer" content="always">
    <meta name="applicable-device" content="pc,mobile">
    <title>æœ¬åœ°IPæŸ¥è¯¢ | ç½‘ç»œæµ‹è¯•</title>
    <link rel="icon" href="./images/icon.png" type="image/x-icon">
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/font.css">
    <script src="./assets/js/chart.js"></script>

        <script>
        // è·å–IPåœ°å€
        async function fetchPublicIP() {
            try {
                const response = await fetch('/api/ip');
                if (!response.ok) throw new Error('ç½‘ç»œå“åº”å¼‚å¸¸');

                const data = await response.json();
                document.getElementById('ipResult').innerText = `${data.ip}`;
            } catch (error) {
                document.getElementById('ipResult').innerText = `æ— æ³•è·å–IPåœ°å€: ${error.message}`;
            }
        }
        // åœ¨é¡µé¢åŠ è½½å®Œæˆåç«‹å³è·å–IPåœ°å€
        window.onload = fetchPublicIP;
    </script>

</head>

<body aria-hidden="false" style="padding: 50px 0px 130px;">
    <header> </header>
    <main class="b" style="height: auto !important;">
        <div class="r" style="height: auto !important;">
            <div class="s" style="height: auto !important;">
                <div class="u" style="height: auto !important;">
                    <div class="v">
                        <div class="w mb-c">
                            <h2>å·¥å…·ç®€ä»‹:</h2>
                            <div class="m-txt">
                                <p class="tool-description">
                                    IPåœ°å€æŸ¥è¯¢å·¥å…·ï¼Œæ”¯æŒä¸€é”®è·å–<strong>æœ¬æœºä¸Šç½‘IP</strong>ã€ç½‘ç»œæµ‹è¯•ã€‚æ— è®ºæ˜¯ç½‘ç»œæ•…éšœæ’æŸ¥ã€è¿˜æ˜¯ç½‘ç»œå®‰å…¨åˆ†æï¼Œéƒ½èƒ½å¸®æ‚¨è½»æ¾æŒæ¡IPä¿¡æ¯ï¼Œæ“ä½œç®€å•é«˜æ•ˆã€‚
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="x">
                        <div class="y">
                            <div class="z">
                                <div class="ba">
                                    <h3>æˆ‘çš„IP</h3> 
                                    <div class="bn"> <span id="ipResult" class="bc">æ­£åœ¨è·å–IPåœ°å€...</span>
                                    <button id="copy-button" class="bk bo"> <span class="bp">ğŸ“‹</span> å¤åˆ¶ </button>
                                    </div>
                                </div>
                                <div id="ipResultContainer" class="bl" style="display: flex;">
                                    <div class="bm">
                                        <div class="bn">
                                            <h3>ç½‘ç»œæµ‹è¯•ğŸš€</h3> 
                                              <!-- é€Ÿåº¦æ˜¾ç¤º -->
                                            <p>ç½‘é€Ÿï¼š<span id="currentSpeed">--</span> Mbp/s</p>
                                            <!-- å»¶è¿Ÿæµ‹è¯•ç»“æœ -->
                                            <p>å»¶è¿Ÿï¼š<span id="latency">--</span> ms</p>
                                            <!-- ä¸¢åŒ…ç‡æµ‹è¯•ç»“æœ -->
                                            <p>ä¸¢åŒ…ç‡ï¼š<span id="packetLoss">--</span></p>

                                            <button onclick="startAllTests()" class="bk bo"> <span class="bp">ğŸ“ˆ</span> å¼€å§‹æµ‹è¯•</button>
                                        </div>
                                        <div class="bq" id="ipInfo">
                                            <div class="br">
                                                <div class="bs">
                                                      <!-- å›¾è¡¨ -->
                                                    <canvas id="speedChart"></canvas>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="cl" style="height: auto !important;">
                        <div class="cn" style="height: auto !important;">
                            <h3><span class="co">ğŸ’»</span> æœ¬æœºipåœ°å€æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
                            <p>æœ¬æœºIPåœ°å€æ˜¯æŒ‡åˆ†é…ç»™æ‚¨å½“å‰ä½¿ç”¨è®¾å¤‡çš„IPåœ°å€ï¼Œå®ƒå¯èƒ½æ˜¯å…¬ç½‘IPæˆ–ç§æœ‰IPã€‚åœ¨å®¶åº­æˆ–åŠå…¬ç½‘ç»œä¸­ï¼Œæ‚¨çš„è®¾å¤‡é€šå¸¸ä¼šè·å¾—ä¸€ä¸ªç”±è·¯ç”±å™¨åˆ†é…çš„ç§æœ‰IPåœ°å€ï¼ˆå¦‚:192.168.*.*ï¼‰ï¼Œè€Œæ‚¨çš„è·¯ç”±å™¨åˆ™æ‹¥æœ‰ä¸€ä¸ªç”±ISPåˆ†é…çš„å…¬ç½‘IPåœ°å€ã€‚é€šè¿‡æœ¬å·¥å…·ï¼Œæ‚¨å¯ä»¥æŸ¥è¯¢åˆ°çš„æ˜¯æ‚¨çš„å†…éƒ¨IPåœ°å€ï¼Œå³æ‚¨è¿æ¥åˆ°å†…ç½‘æ—¶ä½¿ç”¨çš„å®é™…IPåœ°å€ã€‚
                            </p>
                            <h3><span class="co">ğŸ”</span> æœ¬æœºipåœ°å€å¦‚ä½•æŸ¥è¯¢ï¼Ÿ</h3>
                            <p>é€šè¿‡IPåœ°å€æŸ¥è¯¢å·¥å…·ï¼Œæ‚¨å¯ä»¥è½»æ¾è·å–æœ¬æœºIPä¿¡æ¯ã€‚ æŸ¥è¯¢æœ¬æœºIPåœ°å€æœ‰å¤šç§æ–¹æ³•ï¼Œå…·ä½“å–å†³äºæ‚¨ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿå’Œéœ€è¦æŸ¥è¯¢çš„IPç±»å‹ï¼ˆå…¬ç½‘IPæˆ–æœ¬åœ°IPï¼‰ï¼š</p>
                            <div class="cv">
                                <div class="cw">
                                    <h4>æœ¬åœ°IPæŸ¥è¯¢ï¼ˆå†…ç½‘IPæŸ¥è¯¢ï¼‰</h4>
                                    <div class="cx">
                                        <div class="cy"> <span class="cz">ğŸªŸ</span> <span class="da">Windowsç³»ç»Ÿ:
                                                æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥ ipconfig</span> </div>
                                        <div class="cy"> <span class="cz">ğŸ</span> <span class="da">Mac/Linuxç³»ç»Ÿ:
                                                æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ ifconfig æˆ– ip addr</span> </div>
                                    </div>
                                </div>
                                <div class="cw">
                                    <h4>å…¬ç½‘IPæŸ¥è¯¢</h4>
                                    <div class="cx">
                                        <div class="cy"> <span class="cz">ğŸŒ</span> <span class="da">åœ¨çº¿IPåœ°å€æŸ¥è¯¢:
                                                ä½¿ç”¨æœ¬å·¥å…·ç›´æ¥æŸ¥çœ‹æ‚¨çš„IPåœ°å€</span> </div>
                                        <div class="cy"> <span class="cz">ğŸ”</span> <span
                                                class="da">é€šè¿‡æœç´¢å¼•æ“ï¼šåœ¨æœç´¢å¼•æ“ä¸­æœç´¢"æˆ‘çš„IP"</span> </div>
                                        <div class="cy"> <span class="cz">ğŸŒ</span> <span class="da">è®¿é—®ä¸“ä¸šIPæŸ¥è¯¢ç½‘ç«™</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p class="db">è¯·æ³¨æ„ï¼Œå¦‚æœæ‚¨ä½¿ç”¨äº†VPNæˆ–ä»£ç†æœåŠ¡ï¼ŒæŸ¥è¯¢åˆ°çš„IPå°†æ˜¯VPNæˆ–ä»£ç†æœåŠ¡å™¨çš„IPåœ°å€ï¼Œè€Œéæ‚¨çœŸå®çš„ç½‘ç»œIPåœ°å€ã€‚æœ‰ä»»ä½•åŠŸèƒ½å»ºè®®è¯·ç•™è¨€ï¼š<a href="mailto:monstertsl@qq.com">monstertsl@qq.com</a></p>
                            
                                </ins></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- å¤åˆ¶æŒ‰é’® -->
    <script>
        function showToast(msg) {
            var toast = document.getElementById('toast');
            toast.innerText = msg;
            toast.style.display = 'block';
            clearTimeout(window.toastTimer);
            window.toastTimer = setTimeout(function() {
                toast.style.display = 'none';
            }, 1500);
        }

        document.getElementById('copy-button').addEventListener('click', function() {
            var text = document.getElementById("ipResult").innerText;
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text).then(function() {
                    showToast('å¤åˆ¶æˆåŠŸ');
                }, function(err) {
                    showToast('å¤åˆ¶å¤±è´¥');
                });
            } else {
                // å…¼å®¹ HTTP æˆ–ä¸æ”¯æŒ clipboard çš„ç¯å¢ƒ
                var textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    document.execCommand('copy');
                    showToast('å¤åˆ¶æˆåŠŸ');
                } catch (err) {
                    showToast('å¤åˆ¶å¤±è´¥');
                }
                document.body.removeChild(textarea);
            }
        });
    </script>
    <script src="./assets/js/main.js"></script>
    <div id="toast" style="display:none;position:fixed;bottom:40px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.8);color:#fff;padding:10px 24px;border-radius:6px;font-size:16px;z-index:9999;"></div>
</body>

</html>